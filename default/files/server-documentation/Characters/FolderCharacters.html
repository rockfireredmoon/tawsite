<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">

<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Reference: Characters (Folder Index)</title>
<link rel="stylesheet" type="text/css" href="../main.css">
</head>
<body>

<div>

<h2>Reference: Characters (Folder Index)</h2>

<div class="spacer"></div>
<h3>Purpose</h3>
Contains all character files.  Every character has its own file.  The files are titled with the corresponding CreatureDef IDs.
<p>
Special case is reserved for the file called <a href="Default_0.html">0.txt</a> which must exist.  Some of the information there is applied to new characters.
<p>


<div class="spacer"></div>
<h2>File Format</h2>
Crude INI format.  This is one of the oldest systems in the server and also probably the most disorganized.  Lines are mostly considered as key=value pairs, but are divided into a few main sections.  Specific lines within those sections may also be interpreted differently.<br>
Comment character: semicolon (;)<br>
Has section headers.<br>

<div class="spacer"></div>
<h3>Section Tags</h3>
See further below for more precise information on the data formats used by each section.
<p>
<table frame=box rules=all>
<tr>
<td><a href="#general" class="monolink">[ENTRY]</a></td>
<td>Begins a new character entry (originally characters were all saved to a single file, so some of this coding is legacy stuff).</td>
</tr>
<tr>
<td><span class="script">[END]</span></td>
<td>Closes a character entry.  Not necessary.</td>
</tr>
<tr>
<td><a href="#general" class="monolink">[GENERAL]</a></td>
<td>Begins the general section, which holds mostly unrelated information.</td>
</tr>
<tr>
<td><a href="#stats" class="monolink">[STATS]</a></td>
<td>Begins the stats section, which holds information from the <a href="../DataSets/Stats.html">Creature Stat Set.</a></td>
</tr>
<tr>
<td><a href="#prefs" class="monolink">[PREFS]</a></td>
<td>Begins the preferences section, which holds various client-side settings, such as quickbar hotkeys, and configurations from the options menu.</td>
</tr>
<tr>
<td><a href="#inv" class="monolink">[INV]</a></td>
<td>Begins the inventory section, which holds items from all inventory containers (equipped items, backpack inventory, buyback, vault, etc).</td>
</tr>
<tr>
<td><a href="#quest" class="monolink">[QUEST]</a></td>
<td>Begins the quest section, which holds information on active and completed quests.</td>
</tr>
<tr>
<td><a href="#cooldown" class="monolink">[COOLDOWN]</a></td>
<td>Begins the cooldown section, which holds ability cooldown information between sessions.</td>
</tr>
</table>

<div class="spacer"></div>
<a name="general"></a>
<h3>[ENTRY] or [GENERAL] : General Section</h3>
<table frame=box rules=all>
<tr>
<td>ID</td>
<td>Integer</td>
<td>The CreatureDef ID.  Must be unique among all character files.</td>
</tr>
<tr>
<td>AccountID</td>
<td>Integer</td>
<td>The Account ID that owns this character.  Doesn't have a specific purpose within the server, but is useful to have for administrative purposes to determine who owns the character.</td>
</tr>
<tr>
<td>characterVersion</td>
<td>Integer</td>
<td>Mostly unused.  Originally intended to trigger character-specific upgrades if an old character hadn't logged in a while.</td>
</tr>
<tr>
<td>Instance</td>
<td>Integer</td>
<td>The active Instance ID that the player was last in.  If the instance exists when the player logs back in, it will try to enter the player there.</td>
</tr>
<tr>
<td>Zone</td>
<td>Integer</td>
<td>The ZoneDef ID that the player was last in.  If the instance does not exist when the player logs in, a new instance will be created from that zone.</td>
</tr>
<tr>
<td>X</td>
<td>Integer</td>
<td>X-axis coordinate in the game world (east/west).</td>
</tr>
<tr>
<td>Y</td>
<td>Integer</td>
<td>Y-axis coordinate in the game world (elevation).</td>
</tr>
<tr>
<td>Z</td>
<td>Integer</td>
<td>Z-axis coordinate in the game world (north/south).</td>
</tr>
<tr>
<td>Rotation</td>
<td>Byte</td>
<td>Player direction facing.  The official client does not actually recognize player facing when they first log in.  Uses values of 0 to 255, which in the client is converted to 0-360 degress.</td>
</tr>
<tr>
<td>StatusText</td>
<td>String</td>
<td>The status text that displays in the friend list.</td>
</tr>
<tr>
<td>SecondsLogged</td>
<td>Unsigned Long</td>
<td>Total number of seconds that the character has been logged in game.</td>
</tr>
<tr>
<td>SessionsLogged</td>
<td>Integer</td>
<td>Total number of times this character has logged in game.</td>
</tr>
<tr>
<td>TimeLogged</td>
<td>String</td>
<td>A more human-friendly representation of how long the character was in game (hh:mm:ss format).  Based off SecondsLogged.</td>
</tr>
<tr>
<td>LastSession</td>
<td>String</td>
<td>How long the character was logged in during its previous game session (hh:mm:ss format).</td>
</tr>
<tr>
<td>LastLogOn</td>
<td>String</td>
<td>Date and time of the last login.</td>
</tr>
<tr>
<td>LastLogOff</td>
<td>String</td>
<td>Date and time of the last logoff.</td>
</tr>
<tr>
<td>OriginalAppearance</td>
<td>String</td>
<td>Mostly a legacy stat from the old debug days when everyone had access to creaturetweak.  There had been a backup/restore command to preserve the original apppearance.</td>
</tr>
<tr>
<td>CurrentVaultSize</td>
<td>Integer</td>
<td>Number of slots available in the vault inventory.  Each row has 8 slots.</td>
</tr>
<tr>
<td>CreditsPurchased</td>
<td>Integer</td>
<td>Total credits purchased.  Not implemented.</td>
</tr>
<tr>
<td>CreditsSpent</td>
<td>Integer</td>
<td>Total credits spent.</td>
</tr>
<tr>
<td>ExtraAbilityPoints</td>
<td>Integer</td>
<td>Bonus ability points in addition to the base amount granted by level.</td>
</tr>
<tr>
<td>GroveReturn</td>
<td>Integer (x4)</td>
<td>Four values, separated by commas.  These represent {X,Y,Z,ZoneID} respectively.  This is the return coordinate and zone when a player leaves their grove back to the gameplay world.</td>
</tr>
<tr>
<td>BindReturn</td>
<td>Integer (x4)</td>
<td>Four values, separated by commas.  These represent {X,Y,Z,ZoneID} respectively.  This is the coordinate and zone location to return when a player uses the Bind ability.</td>
</tr>
<tr>
<td>LastWarpTime</td>
<td>Unsigned Long</td>
<td>Unused.</td>
</tr>
<tr>
<td>UnstickCount</td>
<td>Integer</td>
<td>Total number of times the player has used the Unstick ability.</td>
</tr>
<tr>
<td>LastUnstickTime</td>
<td>Unsigned Long</td>
<td>Server time (minutes) when the last Unstick was performed.</td>
</tr>
<tr>
<td>hengeList</td>
<td>Integer (list)</td>
<td>Comma separated list of henges that the player has activated.  Each henge is a CreatureDef ID of the associated henge interact.  This property can appear on multiple lines (usually defaults to 10 values per line).  The values will be merged into the list.</td>
</tr>
<tr>
<td>Abilities</td>
<td>Integer (list)</td>
<td>Comma separated list of Ability IDs that the player has learned (passively granted by class, or purchased through the ability screen).  This property can appear on multiple lines (usually defaults to 10 values per line).  The values will be merged into the list.</td>
</tr>
<tr>
<td>FriendList</td>
<td>Integer,String</td>
<td>An entry in the character's friend list.  A CreatureDefID and Character Name, separated by a comma.  This property can appear on multiple lines.  One friend per line.</td>
</tr>
<tr>
<td>Sidekick</td>
<td>Integer (x3)</td>
<td>Three integers, separated by a comma.  Representing {CreatureDefID,summonType,summonParam}.  SummonType is either {0=Generic, 1=Ability, 2=Pet}.  If SummonType is for Ability, SummonParam is the Ability Group ID.  Implementation of Sidekicks has faced some revision is now mostly used for pets.  Other implementation is nonexistent or incomplete.  This property can appear on multiple lines.  One sidekick per line.</td>
</tr>
<tr>
<td>MaxSidekicks</td>
<td>Integer</td>
<td>No longer used.  In very early implementations of sidekicks during alpha testing, players could add their own sidekicks on demand, and this was the maximum limit.</td>
</tr>
<tr>
<td>PrivateChannelName</td>
<td>String</td>
<td>If the player has entered a private chat channel, this is the channel name.</td>
</tr>
<tr>
<td>PrivateChannelPassword</td>
<td>String</td>
<td>If the player has entered a private chat channel, this is the channel password (hashed).</td>
</tr>
<tr>
<td>Permissions</td>
<td>String (list)</td>
<td>A comma separated list of strings.  These are account permission names.  Normally these permissions would appear in the account information, globally affecting all characters on the account.  However, in specific administrative cases they may be applied to specific characters.  See <a href="../Accounts/AccountPermissions.html">Account Permissions</a> for available permissions.  This property can appear on multiple lines (usually defaults to 10 values per line).  The values will be merged into the list.</td>
</tr>
<tr>
<td>InstanceScaler</td>
<td>String</td>
<td>If the player has chosen a dungeon scaling profile, this is the profile name.</td>
</tr>
</table>




<div class="spacer"></div>
<a name="stats"></a>
<h3>[STATS] : Creature Stats Section</h3>
This section is a list of key=value pairs.  Refer to <a href="../DataSets/Stats.html">Creature Stats</a> for a list of available stats and what they do.
<p>
Most of the numeric stat properties (like strength, armor, etc) are reset and recalculated (from class, level, equipment bonuses, passive abilities, etc) when the character is reloaded, to ensure they contain proper values.



<div class="spacer"></div>
<a name="prefs"></a>
<h3>[PREFS] : Preferences Section</h3>
This section is a list of key=value pairs.  These properties are usually set to certain defaults for new players.  Otherwise they are entirely managed by the client.  Their effect is strictly client-side.  They often contain settings that the player has chosen: display settings, quickbar assignments, etc.


<div class="spacer"></div>
<a name="inv"></a>
<h3>[INV] : Inventory Section</h3>
Each line describes a single inventory object.  The line will have either of the following formats:<br>
<span class="script">
ConName=Slot,ID
ConName=Slot,ID,Count,CustomLook,BindStatus
</span>
<p>
Items are not saved with extended information if Count, CustomLook, and BindStatus are all zero.

<p>
Where the above properties are the following:

<table frame=box rules=all>
<tr>
<td>ConName</td>
<td>String</td>
<td>The container name.  Acceptable containers are:<br> <span class="script">{inv,eq,bank,shop,buyback,trade}</span>.<p>Note that the only containers that are actually used in game are <b>inv</b> (inventory), <b>eq</b> (equipped), <b>bank</b> (vault), and <b>buyback</b> (vendor tab).</td>
</tr>
<tr>
<td>Slot</td>
<td>Integer</td>
<td>The slot that the item is placed in.  For the <b>eq</b> container, refer to <a href="../DataSets/EquipSlot.html">Equipment Slots</a> for information on which slots map where.  For other containers (like inventory), slots are numbered beginning at the top left grid slot.  Note that <b>buyback</b> items may be stored in reverse order.</td>
</tr>
<tr>
<td>ID</td>
<td>Integer</td>
<td>The ItemDef ID of the item.  For standard items, the ID must exist in one of the ItemDef files.  For virtual (randomized) items, the ID must exist in the <b>VirtualItems</b> files.</td>
</tr>
<tr>
<td>Count</td>
<td>Integer</td>
<td>For stackable items (such as consumables or reagents) this is the <b>extra</b> number of items present in the stack.  For example, a count of <b>0</b> means 1 item, because there are no extras.  A count of <b>4</b> means 5 items.</td>
</tr>
<tr>
<td>CustomLook</td>
<td>Integer</td>
<td>For refashioned items, this is the ItemDef ID of what the refashioned item looks like.</td>
</tr>
<tr>
<td>BindStatus</td>
<td>Integer</td>
<td>For items that have been bound to the player, this value will be 1.  If not bound, it will be 0.</td>
</tr>
</table>




<div class="spacer"></div>
<a name="quest"></a>
<h3>[QUEST] : Quest Section</h3>
Describes all quest information.  These lines appear in one of three formats:
<span class="script">
active=ID,act,obj1comp,obj1count,obj2comp,obj2count,obj3comp,obj3count
complete=ID,ID,ID...
repeat=ID,startMinute,waitMinutes
</span>
<p>
The format for <b>active</b> quests:<br>
<span class="script">
active=ID,act,obj1comp,obj1count,obj2comp,obj2count,obj3comp,obj3count
</span>
<p>
<table frame=box rules=all>
<tr>
<td>ID</td>
<td>Integer</td>
<td>The QuestDef ID.</td>
</tr>
<tr>
<td>act</td>
<td>Integer</td>
<td>The current act.  This is a zero-based index, meaning the counter begins at <b>0</b> for the first act.  Each act can have up to 3 distinct objectives which can be completed in any order, but the act will not finish until all objectives are complete.</td>
</tr>
<tr>
<td>obj1comp,obj1count</td>
<td>Integer,Integer</td>
<td>Information for the first objective.
<p>
If <b>comp</b> is 1, the objective has been completed.  Otherwise it is 0.
<p>
If the objective has a counter (gather N flowers, kill N creatures) then <b>count</b> will be the amount finished so far.</td>
</tr>
<tr>
<td>obj2comp,obj2count</td>
<td>Integer,Integer</td>
<td>Information for the second objective.  If the act does not contain a second objective, these will be zero.</td>
</tr>
<tr>
<td>obj3comp,obj3count</td>
<td>Integer,Integer</td>
<td>Information for the second objective.  If the act does not contain a third objective, these will be zero.</td>
</tr>
</table>



<div class="spacer"></div>
The format for <b>complete</b> quests:<br>
<span class="script">
complete=ID,ID,ID...
</span>
<p>

This is just a simple, comma separated list of QuestDef IDs that gets added into a list of completed quests.   The server arbitrary limits to 10 IDs per line, but this is just for easier-to-read formatting.  Multiple <b>complete</b> lines will add more IDs to the list.


<div class="spacer"></div>
The format for <b>repeat</b> quests:<br>
<span class="script">
repeat=ID,startMinute,waitMinutes
</span>
<p>
These are not for bounty-board quests that are immediately repeatable.  This data is specific for quests that use the <a href="../Data/QuestDef.html">QuestDef RepeatDelay property</a>.  See there for information on what it's for.



<p>
<table frame=box rules=all>
<tr>
<td>ID</td>
<td>Integer</td>
<td>The QuestDef ID.</td>
</tr>
<tr>
<td>startMinute</td>
<td>Unsigned Long</td>
<td>The system time (translated to minutes since epoch) that the quest was redeemed.</td>
</tr>
<tr>
<td>waitMinutes</td>
<td>Unsigned Long</td>
<td>Number of minutes since <b>startMinute</b> that must pass before the ID is removed from the <b>complete</b> list and made available again.</td>
</tr>
</table>



<div class="spacer"></div>
<a name="cooldown"></a>
<h3>[COOLDOWN] : Cooldown Section</h3>
Describes which ability cooldown categories are still waiting on cooldowns.
<p>
Line Format:<br>
<span class="script">
cooldownCategoryName=remainingTimeMS,elapsedTimeMS
</span>
<p>
<table frame=box rules=all>
<tr>
<td>cooldownCategoryName</td>
<td>String</td>
<td>Refer to the cooldown category name in the <a href="../Data/AbilityTable.html">Abilities Table</a>.</td>
</tr>
<tr>
<td>remainingTimeMS</td>
<td>Integer</td>
<td>Time (milliseconds) that remains to pass before the ability can be used again.</td>
</tr>
<tr>
<td>elapsedTimeMS</td>
<td>Integer</td>
<td>Time (milliseconds) that have elapsed so far.</td>
</tr>
</table>





<div class="footer"></div>

</div>
</body>
</html>

